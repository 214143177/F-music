<!DOCTYPE html>
<html lang="zh-CN">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>F音乐播放器</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <!-- 导入main.js -->
         
        
    </head>

    <body>
        <!-- 主内容区域 -->
        <div class="main">
            <!-- 播放器标签页 -->
            <div class="player-tab" id="player-tab">
                <div class="player-content">
                    <div class="player-header">F音乐播放器</div>
                    <div class="album-art-container">
                        <div class="album-art">
                            <img src="https://picsum.photos/400/400" alt="Album Art" id="albumArt">
                        </div>
                    </div>
                    <div class="song-info">
                        <div class="song-title" id="songTitle">歌曲名称</div>
                        <div class="song-artist" id="songArtist">艺术家</div>
                    </div>
                </div>

                <div class="progress-content">
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <div class="time-display">
                        <span id="currentTime">0:00</span>
                        <span id="duration">0:00</span>
                    </div>
                </div>

                <div class="control-content">
                    <button class="control-btn" id="modeBtn" title="随机播放/单曲循环">
                        <i class="fas fa-random"></i>
                    </button>
                    <button class="control-btn" id="prevBtn" title="上一曲">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-btn" id="playBtn" title="播放/暂停">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <button class="control-btn" id="nextBtn" title="下一曲">
                        <i class="fas fa-step-forward"></i>
                    </button>
                    <button class="control-btn" id="timerBtn" title="定时">
                        <i class="fas fa-clock"></i>
                    </button>
                </div>

                <div class="volume-content">
                    <i class="fas fa-volume-up volume-icon"></i>
                    <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.01" value="1">
                </div>
            </div>

            <!-- 播放列表标签页 -->
            <div class="playlist-tab" id="playlist-tab" style="display: none;">
                <div class="playlist" id="playlist">
                    <div class="empty-message">暂无歌曲，请先添加音乐源</div>
                </div>
            </div>

            <!-- 音乐源标签页 -->
            <div class="source-tab" id="source-tab" style="display: none;">
                <div class="source-container">
                    <div class="source-section">
                        <div class="source-title">从API获取音乐</div>
                        <div class="input-group">
                            <input type="text" class="url-input" id="apiUrlInput"
                                placeholder="输入API地址 (例如: http://localhost:3000/api/songs)">
                        </div>
                        <button class="btn btn-primary" id="fetchApiBtn">
                            <span id="fetchApiText">获取歌曲</span>
                            <span id="fetchApiSpinner" class="loading" style="display: none;"></span>
                        </button>
                        <div class="info-text">API应返回包含title, artist, src, cover, duration字段的JSON数组</div>
                    </div>

                    <div class="source-section">
                        <div class="source-title">从本地文件夹获取</div>
                        <input type="file" id="fileInput" webkitdirectory directory multiple class="file-input"
                            accept="audio/*">
                        <button class="btn btn-primary" id="selectFolderBtn">
                            <span id="selectFolderText">选择文件夹</span>
                            <span id="selectFolderSpinner" class="loading" style="display: none;"></span>
                        </button>
                        <div class="info-text">支持MP3、WAV、OGG等音频文件，将自动解析元数据获取歌曲信息</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部标签栏 -->
        <div class="tab">
            <div class="tab-item active" data-tab="player-tab">
                <div class="tab-icon"><i class="fas fa-music"></i></div>
                <div>播放器</div>
            </div>
            <div class="tab-item" data-tab="playlist-tab">
                <div class="tab-icon"><i class="fas fa-list"></i></div>
                <div>播放列表</div>
            </div>
            <div class="tab-item" data-tab="source-tab">
                <div class="tab-icon"><i class="fas fa-database"></i></div>
                <div>音乐源</div>
            </div>
        </div>

        <!-- 权限请求对话框 -->
        <div class="permission-request" id="permissionRequest" style="display: none;">
            <div class="permission-box">
                <div class="permission-title">文件访问权限</div>
                <div class="permission-text">
                    为了在下次打开时自动加载您的音乐，我们需要保存文件访问权限。您允许我们记住您选择的音乐文件夹吗？
                </div>
                <div class="permission-buttons">
                    <button class="permission-btn allow" id="allowPermission">允许</button>
                    <button class="permission-btn deny" id="denyPermission">拒绝</button>
                </div>
            </div>
        </div>

        <!-- 通知区域 -->
        <div class="notification" id="notification"></div>

        <!-- 定时设置弹窗 -->
        <div class="timer-modal" id="timerModal" style="display: none;">
            <div class="timer-content">
                <h3 class="timer-title">设置定时关闭</h3>
                <div class="timer-options">
                    <button class="timer-option" data-time="5">5分钟</button>
                    <button class="timer-option" data-time="10">10分钟</button>
                    <button class="timer-option" data-time="15">15分钟</button>
                    <button class="timer-option" data-time="30">30分钟</button>
                    <button class="timer-option" data-time="60">1小时</button>
                    <button class="timer-option" data-time="custom">自定义...</button>
                </div>
                <div class="timer-custom" style="display: none;">
                    <input type="number" id="customTime" min="1" max="1440" placeholder="分钟">
                    <button id="confirmCustomTime">确定</button>
                </div>
                <button class="timer-cancel" id="cancelTimerModal">取消</button>
            </div>
        </div>

    </body>

</html>